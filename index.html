<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=yes">
    <title>العرض التفاعلي - التحول الرقمي في الإدارة المدرسية (محترف)</title>
    <!-- Font Awesome 6 -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <!-- Google Fonts - Arabic Premium -->
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700;900&family=Tajawal:wght@300;400;500;700;900&display=swap" rel="stylesheet">
    <!-- AOS Animation Library -->
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    <!-- Swiper JS for horizontal slides -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />
    <style>
        /* ========== RESET & VARIABLES ========== */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary-dark: #0A2472;
            --primary: #1E4A8A;
            --primary-light: #3A7CA5;
            --secondary: #E6B91E;
            --secondary-light: #F9D342;
            --accent: #00A896;
            --accent-light: #02C3A7;
            --dark: #0A1A2F;
            --light: #F0F4FA;
            --gray: #5A6B7A;
            --white: #FFFFFF;
            --gradient-1: linear-gradient(145deg, #0A2472, #1E4A8A, #3A7CA5);
            --gradient-2: linear-gradient(145deg, #E6B91E, #F9D342, #FADB5E);
            --gradient-3: linear-gradient(145deg, #1E4A8A, #00A896, #02C3A7);
            --gradient-4: radial-gradient(circle at top right, #0A2472, #1E4A8A, #3A7CA5);
            --shadow-sm: 0 10px 30px rgba(0,0,0,0.1);
            --shadow-md: 0 20px 50px rgba(0,0,0,0.15);
            --shadow-lg: 0 30px 70px rgba(0,0,0,0.2);
            --shadow-gold: 0 20px 40px rgba(230, 185, 30, 0.25);
            --border-radius-sm: 20px;
            --border-radius-md: 35px;
            --border-radius-lg: 50px;
        }

        html, body { overflow: hidden; height: 100%; width: 100%; }
        body {
            font-family: 'Tajawal', 'Cairo', sans-serif;
            background: var(--dark);
            min-height: 100vh;
            overflow: hidden;
            position: relative;
        }
        #canvas-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0;
            pointer-events: none;
            opacity: 0.8;
        }

        /* ========== PREMIUM NAVIGATION ========== */
        .slide-counter {
            position: fixed; bottom: 15px; left: 15px; z-index: 1000;
            background: rgba(10, 36, 114, 0.85); backdrop-filter: blur(15px);
            border-radius: 40px; padding: 8px 16px; color: white; font-size: 14px;
            font-weight: 600; border: 1px solid rgba(230, 185, 30, 0.4);
            box-shadow: var(--shadow-lg); display: flex; align-items: center; gap: 8px;
            -webkit-backdrop-filter: blur(15px);
        }
        @media (min-width: 768px) { .slide-counter { bottom: 30px; left: 30px; padding: 12px 24px; font-size: 18px; } }
        .slide-counter .current { color: var(--secondary); font-size: 20px; font-weight: 900; text-shadow: 0 0 10px rgba(230,185,30,0.5); }
        @media (min-width: 768px) { .slide-counter .current { font-size: 28px; } }
        .slide-counter .total { color: rgba(255,255,255,0.7); font-size: 16px; }
        @media (min-width: 768px) { .slide-counter .total { font-size: 22px; } }

        .slide-progress-bar {
            position: fixed; top: 0; left: 0; width: 100%; height: 5px;
            background: rgba(0,0,0,0.2); z-index: 1000;
        }
        .slide-progress-fill {
            height: 100%; width: 0%; background: linear-gradient(90deg, var(--secondary), var(--accent), var(--secondary-light));
            transition: width 0.3s ease; position: relative; overflow: hidden; box-shadow: 0 0 15px var(--secondary);
        }
        .slide-progress-fill::after {
            content: ''; position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.6), transparent);
            animation: shimmer 1.8s infinite;
        }
        @keyframes shimmer { 0% { transform: translateX(-100%); } 100% { transform: translateX(100%); } }

        .nav-arrows {
            position: fixed; bottom: 15px; right: 15px; z-index: 1000; display: flex; gap: 8px;
        }
        @media (min-width: 768px) { .nav-arrows { bottom: 30px; right: 30px; gap: 15px; } }
        .nav-arrow {
            width: 45px; height: 45px; border-radius: 50%; background: rgba(10, 36, 114, 0.85);
            backdrop-filter: blur(15px); border: 1px solid var(--secondary); display: flex;
            align-items: center; justify-content: center; color: white; font-size: 18px;
            cursor: pointer; transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            box-shadow: var(--shadow-md); -webkit-backdrop-filter: blur(15px);
        }
        @media (min-width: 768px) { .nav-arrow { width: 65px; height: 65px; font-size: 26px; } }
        .nav-arrow:hover { background: var(--gradient-2); color: var(--primary-dark); transform: scale(1.15) rotate(360deg); border-color: white; box-shadow: var(--shadow-gold); }
        .nav-arrow:active { transform: scale(0.95); }

        /* ========== SWIPER SLIDER MAIN ========== */
        .swiper { width: 100%; height: 100vh; }
        .swiper-slide { display: flex; align-items: center; justify-content: center; position: relative; overflow: hidden; padding: 10px; }
        @media (min-width: 768px) { .swiper-slide { padding: 20px; } }

        .slide-content {
            max-width: 1400px; width: 100%; max-height: 92vh; overflow-y: auto; margin: 0 auto;
            padding: 20px 15px; background: rgba(255, 255, 255, 0.98); backdrop-filter: blur(20px);
            border-radius: var(--border-radius-md); box-shadow: var(--shadow-lg);
            border: 2px solid rgba(230, 185, 30, 0.3); position: relative; transform-style: preserve-3d;
            animation: slideGlow 5s ease-in-out infinite alternate; -webkit-overflow-scrolling: touch;
            -webkit-backdrop-filter: blur(20px);
        }
        @media (min-width: 768px) { .slide-content { padding: 40px 35px; border-radius: var(--border-radius-lg); max-height: 90vh; } }
        @media (min-width: 1200px) { .slide-content { padding: 60px 50px; width: 90%; } }
        @keyframes slideGlow { 0% { box-shadow: 0 30px 70px rgba(0,0,0,0.2); } 100% { box-shadow: 0 40px 90px rgba(0,0,0,0.25), 0 0 30px rgba(230,185,30,0.4); } }
        .slide-content::-webkit-scrollbar { width: 5px; }
        .slide-content::-webkit-scrollbar-track { background: rgba(0,0,0,0.03); border-radius: 10px; }
        .slide-content::-webkit-scrollbar-thumb { background: var(--gradient-2); border-radius: 10px; }
        .slide-content::before {
            content: ''; position: absolute; top: -50%; left: -50%; width: 200%; height: 200%;
            background: radial-gradient(circle at center, rgba(230,185,30,0.08) 0%, transparent 70%);
            animation: rotateBg 40s linear infinite; z-index: 0;
        }
        @keyframes rotateBg { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
        .slide-inner { position: relative; z-index: 2; }

        /* ========== MINISTRY LOGO ========== */
        .ministry-badge { display: flex; justify-content: center; margin-bottom: 15px; perspective: 1000px; }
        @media (min-width: 768px) { .ministry-badge { margin-bottom: 30px; } }
        .badge-3d {
            width: 90px; height: 90px; position: relative; animation: float3D 5s ease-in-out infinite; transform-style: preserve-3d;
        }
        @media (min-width: 768px) { .badge-3d { width: 140px; height: 140px; } }
        @media (min-width: 1200px) { .badge-3d { width: 180px; height: 180px; } }
        @keyframes float3D { 0%,100%{transform:translateY(0) rotateY(0deg);} 50%{transform:translateY(-8px) rotateY(8deg);} }
        @media (min-width: 768px) { @keyframes float3D { 0%,100%{transform:translateY(0) rotateY(0deg);} 50%{transform:translateY(-15px) rotateY(10deg);} } }
        .badge-3d .front, .badge-3d .back {
            position: absolute; width: 100%; height: 100%; border-radius: 50%; display: flex; align-items: center;
            justify-content: center; backface-visibility: hidden; background: white; border: 4px solid var(--secondary);
            box-shadow: 0 15px 30px rgba(0,0,0,0.15);
        }
        @media (min-width: 768px) { .badge-3d .front, .badge-3d .back { border-width: 6px; } }
        .badge-3d .front { transform: rotateY(0deg); }
        .badge-3d .back { transform: rotateY(180deg); background: white; border-color: var(--primary); }
        .badge-image { max-width: 75%; max-height: 75%; width: auto; height: auto; object-fit: contain; filter: drop-shadow(0 4px 6px rgba(0,0,0,0.1)); }

        /* ========== TYPOGRAPHY ========== */
        .title-premium { font-size: 28px; font-weight: 900; text-align: center; line-height: 1.3; margin: 10px 0; }
        @media (min-width: 768px) { .title-premium { font-size: 42px; margin: 15px 0; } }
        @media (min-width: 1200px) { .title-premium { font-size: 64px; margin: 25px 0; } }
        .title-premium .line1 { display: block; color: var(--primary-dark); text-shadow: 2px 2px 4px rgba(0,0,0,0.05); }
        .title-premium .line2 { display: block; background: var(--gradient-3); -webkit-background-clip: text; -webkit-text-fill-color: transparent; font-size: 24px; }
        @media (min-width: 768px) { .title-premium .line2 { font-size: 38px; } }
        @media (min-width: 1200px) { .title-premium .line2 { font-size: 58px; } }
        .title-premium .line3 {
            display: inline-block; background: var(--gradient-2); padding: 6px 16px; border-radius: 35px;
            color: var(--primary-dark); font-size: 20px; margin-top: 8px; box-shadow: var(--shadow-gold);
        }
        @media (min-width: 768px) { .title-premium .line3 { padding: 8px 25px; font-size: 28px; margin-top: 12px; } }
        @media (min-width: 1200px) { .title-premium .line3 { padding: 10px 35px; font-size: 42px; margin-top: 18px; } }

        .presenter-card { background: var(--gradient-1); border-radius: var(--border-radius-md); padding: 20px 15px; color: white; text-align: center; margin: 15px 0; position: relative; overflow: hidden; border: 2px solid var(--secondary); box-shadow: var(--shadow-lg); backdrop-filter: blur(5px); }
        @media (min-width: 768px) { .presenter-card { padding: 35px 25px; margin: 25px 0; border-width: 3px; } }
        @media (min-width: 1200px) { .presenter-card { padding: 45px 35px; margin: 35px 0; } }
        .presenter-card::after { content: ''; position: absolute; top: 0; left: 0; right: 0; bottom: 0; background: linear-gradient(45deg, transparent 30%, rgba(230,185,30,0.2) 50%, transparent 70%); animation: shine 5s infinite; pointer-events: none; }
        .presenter-name { font-size: 24px; font-weight: 900; margin-bottom: 8px; color: var(--secondary); text-shadow: 0 0 12px rgba(230,185,30,0.6); }
        @media (min-width: 768px) { .presenter-name { font-size: 38px; margin-bottom: 12px; } }
        .presenter-title { font-size: 16px; margin-bottom: 12px; position: relative; display: inline-block; }
        @media (min-width: 768px) { .presenter-title { font-size: 22px; margin-bottom: 18px; } }
        .presenter-title::before, .presenter-title::after { content: '✦'; color: var(--secondary); margin: 0 5px; font-size: 16px; }
        @media (min-width: 768px) { .presenter-title::before, .presenter-title::after { margin: 0 10px; font-size: 20px; } }
        .presenter-id { font-size: 20px; font-weight: 700; background: rgba(230,185,30,0.2); padding: 8px 16px; border-radius: 35px; display: inline-block; border: 2px solid var(--secondary); letter-spacing: 1px; backdrop-filter: blur(5px); }
        @media (min-width: 768px) { .presenter-id { font-size: 28px; padding: 12px 25px; } }

        /* ========== 3D CARDS GRID ========== */
        .cards-grid-3d { display: grid; grid-template-columns: 1fr; gap: 12px; margin: 15px 0; perspective: 2000px; }
        @media (min-width: 480px) { .cards-grid-3d { grid-template-columns: repeat(2, 1fr); gap: 15px; } }
        @media (min-width: 1200px) { .cards-grid-3d { grid-template-columns: repeat(4, 1fr); gap: 25px; margin: 35px 0; } }
        .card-3d { background: white; border-radius: var(--border-radius-md); padding: 20px 15px; text-align: center; position: relative; transition: all 0.5s cubic-bezier(0.23, 1, 0.32, 1); transform-style: preserve-3d; box-shadow: 0 10px 25px rgba(0,0,0,0.08); border: 1px solid rgba(230,185,30,0.15); cursor: pointer; }
        @media (min-width: 768px) { .card-3d { padding: 25px 20px; } }
        @media (min-width: 1200px) { .card-3d { padding: 35px 25px; } }
        .card-3d::before { content: ''; position: absolute; top: -2px; left: -2px; right: -2px; bottom: -2px; background: var(--gradient-2); border-radius: var(--border-radius-md); z-index: -1; opacity: 0; transition: opacity 0.4s ease; }
        .card-3d:hover { transform: translateY(-8px) rotateX(4deg) scale(1.02); box-shadow: 0 20px 35px rgba(230,185,30,0.25); }
        .card-3d:hover::before { opacity: 1; }
        .card-icon { width: 50px; height: 50px; background: var(--gradient-3); border-radius: 18px; display: flex; align-items: center; justify-content: center; margin: 0 auto 12px; font-size: 26px; color: white; transform: translateZ(12px); transition: all 0.4s ease; box-shadow: 0 8px 15px rgba(0,0,0,0.15); }
        @media (min-width: 768px) { .card-icon { width: 70px; height: 70px; font-size: 36px; margin: 0 auto 18px; } }
        .card-3d:hover .card-icon { transform: translateZ(25px) rotateY(180deg); background: var(--gradient-2); color: var(--primary-dark); }
        .card-number { font-size: 22px; font-weight: 900; color: var(--secondary); margin: 8px 0; transform: translateZ(8px); }
        @media (min-width: 768px) { .card-number { font-size: 28px; margin: 10px 0; } }
        .card-3d h3 { font-size: 18px; margin: 8px 0; color: var(--primary-dark); }
        @media (min-width: 768px) { .card-3d h3 { font-size: 22px; margin: 12px 0; } }
        .card-3d p { font-size: 13px; color: var(--gray); }
        @media (min-width: 768px) { .card-3d p { font-size: 15px; } }

        /* ========== SECTION HEADER ========== */
        .section-header { font-size: 26px; font-weight: 900; color: var(--primary-dark); margin-bottom: 15px; position: relative; display: inline-block; padding-bottom: 8px; }
        @media (min-width: 768px) { .section-header { font-size: 38px; margin-bottom: 25px; padding-bottom: 10px; } }
        .section-header::after { content: ''; position: absolute; bottom: 0; right: 0; width: 100%; height: 4px; background: var(--gradient-2); border-radius: 4px; transform: scaleX(0); transform-origin: right; transition: transform 0.5s ease; }
        .swiper-slide-active .section-header::after { transform: scaleX(1); }

        /* ========== COMPARISON BOXES ========== */
        .comparison-container { display: grid; grid-template-columns: 1fr; gap: 15px; margin: 15px 0; perspective: 2000px; }
        @media (min-width: 768px) { .comparison-container { gap: 20px; margin: 25px 0; } }
        @media (min-width: 992px) { .comparison-container { grid-template-columns: 1fr 1fr; gap: 25px; margin: 30px 0; } }
        .comparison-box { padding: 20px 15px; border-radius: var(--border-radius-lg); color: white; position: relative; overflow: hidden; transform-style: preserve-3d; transition: all 0.5s ease; box-shadow: var(--shadow-lg); min-height: auto; display: flex; flex-direction: column; }
        @media (min-width: 768px) { .comparison-box { padding: 30px 25px; min-height: 380px; } }
        .comparison-box.challenges { background: linear-gradient(145deg, #0A2472, #1E4A8A, #2A3F6E); }
        .comparison-box.opportunities { background: linear-gradient(145deg, #1E4A8A, #00A896, #0A7A6A); }
        @media (min-width: 992px) { .comparison-box.challenges { transform: rotateY(-3deg) translateZ(10px); } .comparison-box.opportunities { transform: rotateY(3deg) translateZ(10px); } }
        .comparison-box:hover { transform: rotateY(0deg) translateZ(15px) scale(1.02); box-shadow: 0 30px 50px rgba(230,185,30,0.3); }
        .box-title { font-size: 24px; font-weight: 900; margin-bottom: 15px; display: flex; align-items: center; gap: 8px; color: var(--secondary); }
        @media (min-width: 768px) { .box-title { font-size: 32px; margin-bottom: 20px; gap: 10px; } }
        .box-title i { font-size: 30px; animation: pulse 2.5s infinite; }
        @media (min-width: 768px) { .box-title i { font-size: 40px; } }
        .comparison-list { list-style: none; flex-grow: 1; }
        .comparison-list li { font-size: 13px; margin: 8px 0; display: flex; align-items: center; gap: 8px; padding: 6px 10px; background: rgba(255,255,255,0.1); border-radius: 12px; transition: all 0.3s ease; border-right: 3px solid var(--secondary); transform: translateX(0); backdrop-filter: blur(4px); }
        @media (min-width: 768px) { .comparison-list li { font-size: 16px; margin: 12px 0; gap: 12px; padding: 10px 12px; border-radius: 15px; } }
        .comparison-list li:hover { background: rgba(230,185,30,0.25); transform: translateX(8px); }
        .comparison-list i { font-size: 16px; color: var(--secondary); }
        @media (min-width: 768px) { .comparison-list i { font-size: 20px; } }

        /* Ministry Vision Statement */
        .vision-box { background: rgba(255,255,255,0.05); border-radius: var(--border-radius-md); padding: 18px; margin: 20px 0 10px; border: 2px dashed var(--secondary); }
        .vision-title { color: var(--secondary); font-size: 20px; font-weight: 900; margin-bottom: 10px; text-align: center; }
        .vision-text { color: white; font-size: 15px; line-height: 1.6; text-align: center; }
        @media (min-width: 768px) { .vision-title { font-size: 24px; } .vision-text { font-size: 18px; } }

        /* ========== PLATFORM SHOWCASE ========== */
        .platform-universe { background: var(--gradient-1); border-radius: var(--border-radius-lg); padding: 25px 15px; margin: 15px 0; position: relative; overflow: hidden; border: 3px solid var(--secondary); box-shadow: var(--shadow-lg); transform-style: preserve-3d; animation: universePulse 6s infinite alternate; }
        @media (min-width: 768px) { .platform-universe { padding: 40px 30px; margin: 25px 0; } }
        @keyframes universePulse { 0% { box-shadow: 0 20px 40px rgba(0,0,0,0.3); } 100% { box-shadow: 0 30px 60px rgba(230,185,30,0.3); } }
        .platform-title { font-size: 32px; font-weight: 900; color: white; text-align: center; margin-bottom: 10px; z-index: 2; text-shadow: 0 0 15px rgba(230,185,30,0.5); }
        @media (min-width: 768px) { .platform-title { font-size: 48px; margin-bottom: 15px; } }
        .platform-subtitle { font-size: 18px; color: var(--secondary); text-align: center; margin-bottom: 15px; }
        @media (min-width: 768px) { .platform-subtitle { font-size: 24px; margin-bottom: 20px; } }
        .platform-link-container { text-align: center; position: relative; z-index: 2; perspective: 1000px; }
        .platform-link-3d { display: inline-block; padding: 12px 24px; background: white; color: var(--primary-dark); font-size: 18px; font-weight: 900; text-decoration: none; border-radius: 50px; transition: all 0.4s ease; box-shadow: 0 15px 30px rgba(0,0,0,0.25); border: 2px solid var(--secondary); transform: rotateX(5deg) translateZ(8px); position: relative; overflow: hidden; }
        @media (min-width: 768px) { .platform-link-3d { padding: 18px 40px; font-size: 24px; border-width: 3px; } }
        .platform-link-3d::before { content: ''; position: absolute; top: 0; left: -100%; width: 100%; height: 100%; background: linear-gradient(90deg, transparent, rgba(255,255,255,0.8), transparent); transition: left 0.6s ease; }
        .platform-link-3d:hover { transform: rotateX(0deg) translateZ(15px) scale(1.05); background: var(--gradient-2); color: var(--primary-dark); box-shadow: 0 25px 50px rgba(230,185,30,0.5); }
        .platform-link-3d:hover::before { left: 100%; }
        .features-grid { display: grid; grid-template-columns: 1fr; gap: 12px; margin-top: 20px; }
        @media (min-width: 480px) { .features-grid { grid-template-columns: repeat(2, 1fr); gap: 15px; } }
        @media (min-width: 992px) { .features-grid { grid-template-columns: repeat(3, 1fr); gap: 20px; margin-top: 35px; } }
        .feature-item { text-align: center; }
        .feature-icon { width: 45px; height: 45px; background: rgba(230,185,30,0.2); border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 6px; border: 2px solid var(--secondary); transition: all 0.3s ease; }
        @media (min-width: 768px) { .feature-icon { width: 60px; height: 60px; margin: 0 auto 8px; } }
        .feature-item:hover .feature-icon { transform: scale(1.1) rotate(5deg); background: var(--secondary); border-color: white; }
        .feature-icon i { font-size: 22px; color: white; }
        .feature-item span { color: white; font-size: 13px; font-weight: 600; }
        @media (min-width: 768px) { .feature-item span { font-size: 16px; } }

        /* ========== REFERENCES GALAXY (مع دعم التوثيق المنبثق) ========== */
        .references-galaxy { display: grid; grid-template-columns: 1fr; gap: 12px; margin: 15px 0; }
        @media (min-width: 480px) { .references-galaxy { grid-template-columns: repeat(2, 1fr); gap: 15px; } }
        @media (min-width: 992px) { .references-galaxy { grid-template-columns: repeat(3, 1fr); gap: 20px; margin: 30px 0; } }
        .star-reference {
            background: linear-gradient(145deg, #ffffff, #f8fafc); padding: 20px 15px; border-radius: var(--border-radius-md);
            text-align: center; position: relative; overflow: hidden; transition: all 0.4s ease; border: 2px solid transparent;
            cursor: pointer; box-shadow: 0 10px 20px rgba(0,0,0,0.05);
        }
        .star-reference:hover { transform: translateY(-8px) scale(1.02); border-color: var(--secondary); box-shadow: 0 20px 30px rgba(230,185,30,0.15); }
        .star-reference i { font-size: 32px; color: var(--secondary); margin-bottom: 12px; }
        .star-reference h3 { font-size: 18px; margin-bottom: 8px; color: var(--primary); }
        .star-reference p { font-size: 13px; color: var(--gray); margin-bottom: 10px; }

        /* Tooltip/Citation styling - يظهر عند الضغط */
        .citation-tooltip {
            display: none; background: var(--primary-dark); color: white; padding: 12px; border-radius: 20px;
            font-size: 14px; line-height: 1.6; margin-top: 10px; border-right: 4px solid var(--secondary);
            text-align: right; box-shadow: var(--shadow-lg); position: relative; z-index: 10;
        }
        .star-reference.active .citation-tooltip { display: block; }

        /* ========== CONCEPT SLIDE STYLES ========== */
        .definitions-container { margin-bottom: 25px; }
        .definition-item {
            background: linear-gradient(145deg, #f5f9ff, #eef2f7); padding: 18px 15px; border-radius: 25px;
            margin-bottom: 15px; border-right: 6px solid var(--secondary); box-shadow: var(--shadow-sm);
            transition: all 0.3s ease; cursor: pointer;
        }
        .definition-item:hover { transform: translateX(-5px); box-shadow: var(--shadow-md); }
        .definition-text { font-size: 18px; line-height: 1.5; color: var(--primary-dark); font-weight: 500; margin-bottom: 8px; }
        @media (min-width: 768px) { .definition-text { font-size: 22px; } }
        .definition-source { font-size: 16px; color: var(--accent); font-weight: 700; display: inline-block; background: rgba(0,168,150,0.1); padding: 5px 12px; border-radius: 30px; border: 1px dashed var(--accent); }
        .my-definition { background: linear-gradient(145deg, #e6f0ff, #d4e4fc); border-right-color: var(--primary); }

        /* ========== TIMELINE ========== */
        .timeline-premium { display: grid; grid-template-columns: 1fr; gap: 12px; margin: 20px 0; position: relative; }
        @media (min-width: 640px) { .timeline-premium { display: flex; flex-direction: row; justify-content: space-between; gap: 8px; margin: 30px 0; } }
        .timeline-premium::before { display: none; }
        @media (min-width: 640px) { .timeline-premium::before { display: block; content: ''; position: absolute; top: 50%; left: 0; width: 100%; height: 4px; background: var(--gradient-2); transform: translateY(-50%); border-radius: 4px; } }
        .timeline-node { width: 100%; height: auto; padding: 15px; border-radius: 25px; background: white; display: flex; flex-direction: column; align-items: center; justify-content: center; position: relative; z-index: 2; box-shadow: var(--shadow-md); border: 2px solid var(--secondary); transition: all 0.4s ease; cursor: pointer; }
        @media (min-width: 640px) { .timeline-node { width: 90px; height: 90px; border-radius: 50%; padding: 10px; } }
        @media (min-width: 992px) { .timeline-node { width: 140px; height: 140px; } }
        .timeline-node:hover { transform: scale(1.1); box-shadow: var(--shadow-gold); border-color: var(--accent); }
        .timeline-node .year { font-size: 24px; font-weight: 900; color: var(--primary); }
        @media (min-width: 640px) { .timeline-node .year { font-size: 20px; } }
        @media (min-width: 992px) { .timeline-node .year { font-size: 28px; } }
        .timeline-node .event { font-size: 14px; font-weight: 600; color: var(--gray); text-align: center; }
        @media (min-width: 640px) { .timeline-node .event { font-size: 11px; } }

        /* ========== OBJECTIVE CARD (BIGGER FONTS) ========== */
        .concept-card { flex: 1; perspective: 1000px; }
        .objective-card { transform: rotateY(0deg); background: var(--gradient-1); padding: 25px 20px; border-radius: 35px; color: white; box-shadow: var(--shadow-lg); border: 2px solid var(--secondary); }
        .objective-title { font-size: 28px; margin-bottom: 25px; color: var(--secondary); text-align: center; font-weight: 900; }
        @media (min-width: 768px) { .objective-title { font-size: 36px; margin-bottom: 30px; } }
        .objective-list { list-style: none; }
        .objective-list li { margin: 18px 0; font-size: 20px; display: flex; align-items: center; background: rgba(255,255,255,0.1); padding: 12px 18px; border-radius: 50px; transition: all 0.3s ease; }
        @media (min-width: 768px) { .objective-list li { font-size: 24px; margin: 22px 0; padding: 15px 22px; } }
        .objective-list li:hover { background: rgba(230,185,30,0.3); transform: translateX(-8px); }
        .objective-list i { color: var(--secondary); margin-left: 15px; font-size: 26px; }

        /* ========== UTILITY & FOOTER SLIDES ========== */
        .heart-container { position: relative; width: 120px; height: 120px; margin: 0 auto 15px; }
        @media (min-width: 768px) { .heart-container { width: 180px; height: 180px; } }
        .heart-pulse { position: absolute; width: 100%; height: 100%; animation: pulse 2.5s infinite; }
        .heart-icon { font-size: 80px; color: var(--secondary); position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); filter: drop-shadow(0 0 15px var(--secondary)); }
        @media (min-width: 768px) { .heart-icon { font-size: 130px; } }
        .thanks-title { font-size: 30px; color: var(--primary); margin: 15px 0; }
        .thanks-subtitle { font-size: 16px; color: var(--gray); }
        .star-float { font-size: 50px; color: var(--secondary); margin-bottom: 15px; animation: float 3.5s infinite; }
        .final-title { font-size: 28px; color: var(--primary); margin-bottom: 10px; }
        .final-presenter { font-size: 18px; color: var(--gray); }
        .final-year { font-size: 14px; color: var(--secondary); }
        @keyframes float { 0%,100% { transform: translateY(0); } 50% { transform: translateY(-8px); } }
        @keyframes pulse { 0%,100% { transform: scale(1); opacity: 1; } 50% { transform: scale(1.1); opacity: 0.9; } }
        .text-center { text-align: center; }
        .mt-4 { margin-top: 15px; }

        /* Concept Flex */
        .concept-flex { display: flex; flex-direction: column; gap: 20px; margin: 20px 0; }
        @media (min-width: 992px) { .concept-flex { flex-direction: row; gap: 30px; margin: 30px 0; } }
        .concept-text { flex: 1; }
        .concept-paragraph { font-size: 20px; line-height: 1.6; color: var(--primary-dark); font-weight: 700; margin: 20px 0 15px; padding: 0 5px; }
        .quote-box { margin-top: 15px; background: linear-gradient(145deg, #f0f4fa, #ffffff); padding: 18px; border-radius: 25px; border-right: 6px solid var(--secondary); }
        .quote-icon { color: var(--secondary); font-size: 28px; margin-left: 12px; float: right; }
        .quote-text { font-size: 18px; font-weight: 500; color: var(--primary); }

        /* RTL Fix for arrows */
        .fa-arrow-right:before { content: "\f060"; } /* Override for RTL: right arrow becomes left */
        .fa-arrow-left:before { content: "\f061"; } /* Override for RTL: left arrow becomes right */
    </style>
</head>
<body>
    <canvas id="canvas-bg"></canvas>

    <div class="slide-progress-bar"><div class="slide-progress-fill" id="progress-fill"></div></div>
    <div class="slide-counter"><span class="current" id="current-slide">01</span><span class="total">/ 10</span></div>
    <div class="nav-arrows"><div class="nav-arrow" id="prev-slide"><i class="fas fa-arrow-right"></i></div><div class="nav-arrow" id="next-slide"><i class="fas fa-arrow-left"></i></div></div>

    <div class="swiper presentation-swiper">
        <div class="swiper-wrapper">
            <!-- SLIDE 1: Cover -->
            <div class="swiper-slide"><div class="slide-content"><div class="slide-inner" data-aos="fade-up">
                <div class="ministry-badge"><div class="badge-3d"><div class="front"><img src="https://b.top4top.io/p_3704mdd1d1.png" alt="وزارة التعليم" class="badge-image"></div><div class="back"><img src="https://b.top4top.io/p_3704mdd1d1.png" alt="وزارة التعليم" class="badge-image"></div></div></div>
                <h1 class="title-premium"><span class="line1">التحول الرقمي في</span><span class="line2">الإدارة المدرسية</span><span class="line3">التحديات والفرص</span></h1>
                <div class="presenter-card"><div class="presenter-name">سلطان بن علي بن عبدالله الوائلي</div><div class="presenter-title">مساعد مدير مدرسة محمد بن سليمان الغافري</div><div class="presenter-id">16101418</div></div>
                <div class="text-center mt-4" style="color: var(--gray);"><i class="fas fa-calendar-alt" style="color: var(--secondary);"></i> العام الدراسي 2026/2027 م</div>
            </div></div></div>

            <!-- SLIDE 2: محاور العرض -->
            <div class="swiper-slide"><div class="slide-content"><div class="slide-inner">
                <h2 class="section-header">محاور العرض</h2>
                <div class="cards-grid-3d">
                    <div class="card-3d" data-aos="flip-right"><div class="card-icon"><i class="fas fa-lightbulb"></i></div><div class="card-number">٠١</div><h3>المفهوم</h3><p>مفهوم التحول الرقمي في الإدارة المدرسية</p></div>
                    <div class="card-3d" data-aos="flip-right" data-aos-delay="100"><div class="card-icon"><i class="fas fa-chart-line"></i></div><div class="card-number">٠٢</div><h3>التحديات والفرص</h3><p>تحليل شامل للتحديات والفرص</p></div>
                    <div class="card-3d" data-aos="flip-right" data-aos-delay="200"><div class="card-icon"><i class="fas fa-laptop"></i></div><div class="card-number">٠٣</div><h3>نموذج تطبيقي</h3><p>منصة تدبير - مدرسة محمد بن سليمان الغافري</p></div>
                    <div class="card-3d" data-aos="flip-right" data-aos-delay="300"><div class="card-icon"><i class="fas fa-graduation-cap"></i></div><div class="card-number">٠٤</div><h3>دراسات ومقترحات</h3><p>دراسات داعمة ومقترحات تطويرية</p></div>
                </div>
            </div></div></div>

            <!-- SLIDE 3: المفهوم (مع تعريفات موثقة - مراجع محدثة) -->
            <div class="swiper-slide"><div class="slide-content"><div class="slide-inner">
                <h2 class="section-header">مفهوم التحول الرقمي في الإدارة المدرسية</h2>
                <div class="definitions-container">
                    <!-- تعريف OECD (موثق) -->
                    <div class="definition-item definition-trigger" data-citation="Boeskens, L. and K. Meyer (2025), “Policies for the digital transformation of school education: Evidence from the Policy Survey on School Education in the Digital Age”, OECD Education Working Papers, No. 328, OECD Publishing, Paris.">
                        <div class="definition-text">"التحول الرقمي في التعليم هو إعادة تصميم جذرية للعمليات التربوية، ودمج التكنولوجيا ليس كأداة فحسب، بل كطريقة لإعادة تشكيل مناهج التدريس وعمليات التعلم والنظام البيئي التعليمي بأكمله ليكون أكثر فعالية."</div>
                        <span class="definition-source">- OECD (2025)</span>
                    </div>
                    <!-- تعريف وزارة التربية والتعليم العماني (مرجع عربي حديث) -->
                    <div class="definition-item definition-trigger" data-citation="وزارة التربية والتعليم، سلطنة عمان (2024). 'الخطة الاستراتيجية للتعليم 2040: تمكين التعلم الرقمي والابتكار في المدارس'. الوثيقة الوطنية لتحول الرقمي في التعليم، مسقط، سلطنة عمان.">
                        <div class="definition-text">"التحول الرقمي في الإدارة المدرسية هو توظيف متكامل ومنهجي للتقنيات الرقمية لتحسين جودة العمليات التعليمية والإدارية، وتعزيز ثقافة الابتكار، وتمكين المتعلمين والمعلمين في بيئة تعليمية تفاعلية آمنة."</div>
                        <span class="definition-source">- وزارة التربية والتعليم (عمان، 2024)</span>
                    </div>
                    <!-- تعريف هيئة تقنية المعلومات (مرجع عربي حديث) -->
                    <div class="definition-item definition-trigger" data-citation="هيئة تقنية المعلومات، سلطنة عمان (2023). 'إطار الحوكمة الرقمية للمؤسسات التعليمية: دليل تطبيق معايير التمكين الرقمي'. مسقط، سلطنة عمان.">
                        <div class="definition-text">"التمكين الرقمي في القطاع التعليمي هو عملية دمج البنى التحتية التقنية والأنظمة المعلوماتية لخلق بيئة رقمية متكاملة تتيح الوصول للخدمات الإدارية والتعليمية بكفاءة وشفافية."</div>
                        <span class="definition-source">- هيئة تقنية المعلومات (عمان، 2023)</span>
                    </div>
                    <!-- تعريف سلطان الوائلي (شخصي) -->
                    <div class="definition-item my-definition definition-trigger" data-citation="الوائلي، سلطان بن علي (2025). 'مفهوم شخصي للتحول الرقمي في الإدارة المدرسية'. مخطوطة غير منشورة، مدرسة محمد بن سليمان الغافري، سلطنة عمان.">
                        <div class="definition-text">"التحول الرقمي في الإدارة المدرسية هو نقلة نوعية شاملة تعيد تشكيل الهيكل الإداري والمدرسي بأكمله، لخلق بيئة تفاعلية ذكية تركز على المتعلم وتواكب متطلبات العصر الرقمي."</div>
                        <span class="definition-source">- سلطان بن علي الوائلي (2025)</span>
                    </div>
                </div>
                <div class="concept-flex">
                    <div class="concept-text" data-aos="fade-left">
                        <p class="concept-paragraph">هو عملية دمج التقنيات الرقمية في جميع مجالات العمل الإداري بالمدرسة بشكل شامل.</p>
                        <div class="quote-box"><i class="fas fa-quote-right quote-icon"></i><p class="quote-text">يتجاوز مجرد استخدام الأجهزة إلى تغيير طريقة التفكير والعمل</p></div>
                    </div>
                    <div class="concept-card" data-aos="fade-right">
                        <div class="objective-card"><h3 class="objective-title">الأهداف الرئيسية</h3><ul class="objective-list"><li><i class="fas fa-check-circle"></i> ميكنة الإجراءات الروتينية</li><li><i class="fas fa-check-circle"></i> تعزيز كفاءة اتخاذ القرار</li><li><i class="fas fa-check-circle"></i> خلق بيئة مدرسية تفاعلية</li></ul></div>
                    </div>
                </div>
            </div></div></div>

            <!-- SLIDE 4: التحديات والفرص (مع إضافة رؤية الوزارة) -->
            <div class="swiper-slide"><div class="slide-content"><div class="slide-inner">
                <h2 class="section-header">التحديات والفرص</h2>
                <div class="comparison-container">
                    <div class="comparison-box challenges" data-aos="flip-left">
                        <div class="box-title"><i class="fas fa-exclamation-triangle"></i><span>التحديات</span></div>
                        <ul class="comparison-list">
                            <li><i class="fas fa-times-circle"></i> مقاومة التغيير من بعض الكوادر البشرية</li>
                            <li><i class="fas fa-wifi"></i> نقص البنية التحتية التقنية</li>
                            <li><i class="fas fa-shield-alt"></i> صعوبة تأمين وحماية البيانات</li>
                            <li><i class="fas fa-chalkboard-teacher"></i> الحاجة المستمرة للتدريب</li>
                            <li><i class="fas fa-coins"></i> التكلفة المادية للتحول</li>
                        </ul>
                    </div>
                    <div class="comparison-box opportunities" data-aos="flip-right">
                        <div class="box-title"><i class="fas fa-lightbulb"></i><span>الفرص</span></div>
                        <ul class="comparison-list">
                            <li><i class="fas fa-chart-line"></i> رفع كفاءة الإداريين والمعلمين</li>
                            <li><i class="fas fa-brain"></i> تحسين جودة التعليم والتعلم</li>
                            <li><i class="fas fa-handshake"></i> تعزيز الشفافية والتواصل</li>
                            <li><i class="fas fa-clock"></i> توفير الوقت والجهد</li>
                            <li><i class="fas fa-chart-bar"></i> صناعة قرار قائم على أدلة</li>
                        </ul>
                    </div>
                </div>
                <!-- رؤية الوزارة والتعليم المدمج (مضافة حديثاً) -->
                <div class="vision-box">
                    <div class="vision-title">رؤية وزارة التربية والتعليم: التعليم المدمج بالتقانة</div>
                    <div class="vision-text">"نسعى لتمكين رقمي شامل وتوظيف تقني متقن لتجويد بيئة العلم والعمل، وصنع جيل مبدع علمياً مجيد رقمياً، من خلال دمج التقنيات الحديثة في المناهج والممارسات الإدارية، وبناء قدرات رقمية متقدمة للكوادر التعليمية." <br> (وزارة التربية والتعليم، 2024)<br><br>
                    <strong>رؤية المدرسة المشتقة:</strong> "من هنا، اشتقت مدرسة محمد بن سليمان الغافري رؤيتها نحو تمكين رقمي شامل، يهدف إلى توظيف تقني متقن لتجويد بيئة العلم والعمل، وصنع جيل مبدع علمياً مجيد رقمياً، من خلال مبادرات مثل منصة 'تدبير'."</div>
                </div>
            </div></div></div>

            <!-- SLIDE 5: منصة تدبير -->
            <div class="swiper-slide"><div class="slide-content"><div class="slide-inner">
                <div class="platform-universe">
                    <h2 class="platform-title">منصة تدبير</h2>
                    <div class="platform-subtitle">نموذج ملموس للتحول الرقمي</div>
                    <p class="platform-desc">مبادرة رقمية مبتكرة من مدرسة محمد بن سليمان الغافري</p>
                    <div class="platform-link-container"><a href="https://sultanalwaeli.github.io/7211/" target="_blank" class="platform-link-3d"><i class="fas fa-rocket"></i> استكشف المنصة</a></div>
                    <div class="features-grid">
                        <div class="feature-item"><div class="feature-icon"><i class="fas fa-database"></i></div><span>تنظيم البيانات</span></div>
                        <div class="feature-item"><div class="feature-icon"><i class="fas fa-user-check"></i></div><span>متابعة الحضور</span></div>
                        <div class="feature-item"><div class="feature-icon"><i class="fas fa-bell"></i></div><span>التواصل الفوري</span></div>
                    </div>
                </div>
            </div></div></div>

            <!-- SLIDE 6: الدراسات الداعمة (نفس المراجع الموثقة) -->
            <div class="swiper-slide"><div class="slide-content"><div class="slide-inner">
                <h2 class="section-header">الدراسات الداعمة</h2>
                <div class="references-galaxy">
                    <div class="star-reference definition-trigger" data-citation="OECD (2023). 'Digital Education Outlook 2023: Towards an Effective Digital Transformation'. OECD Publishing, Paris."><i class="fas fa-chart-line"></i><h3>OECD 2023</h3><p>توجهات التحول الرقمي الفعال في التعليم</p></div>
                    <div class="star-reference definition-trigger" data-citation="وزارة التربية والتعليم (2024). 'الخطة الاستراتيجية للتعليم 2040: تمكين التعلم الرقمي والابتكار في المدارس'. سلطنة عمان."><i class="fas fa-landmark"></i><h3>وزارة التعليم العمانية</h3><p>الاستراتيجية الوطنية للتعليم 2040</p></div>
                    <div class="star-reference definition-trigger" data-citation="هيئة تقنية المعلومات (2023). 'إطار الحوكمة الرقمية للمؤسسات التعليمية'. سلطنة عمان."><i class="fas fa-microchip"></i><h3>هيئة تقنية المعلومات</h3><p>إطار الحوكمة الرقمية للمؤسسات التعليمية</p></div>
                    <div class="star-reference definition-trigger" data-citation="Boeskens, L. and K. Meyer (2025). OECD Education Working Papers, No. 328."><i class="fas fa-file-alt"></i><h3>OECD 2025</h3><p>سياسات التحول الرقمي في التعليم المدرسي</p></div>
                    <div class="star-reference definition-trigger" data-citation="الوائلي، سلطان (2025). مفهوم شخصي للتحول الرقمي."><i class="fas fa-pen"></i><h3>سلطان الوائلي 2025</h3><p>مفهوم شخصي للتحول الرقمي</p></div>
                </div>
            </div></div></div>

            <!-- SLIDE 7: المقترحات -->
            <div class="swiper-slide"><div class="slide-content"><div class="slide-inner">
                <h2 class="section-header">مقترحات لتطوير التحول الرقمي</h2>
                <div class="timeline-premium">
                    <div class="timeline-node" data-aos="flip-up"><span class="year">١</span><span class="event">البدء بالثقافة</span></div>
                    <div class="timeline-node" data-aos="flip-up" data-aos-delay="100"><span class="year">٢</span><span class="event">الاستثمار في الكوادر</span></div>
                    <div class="timeline-node" data-aos="flip-up" data-aos-delay="200"><span class="year">٣</span><span class="event">تطوير البنية التحتية</span></div>
                    <div class="timeline-node" data-aos="flip-up" data-aos-delay="300"><span class="year">٤</span><span class="event">التوسع في المبادرات</span></div>
                    <div class="timeline-node" data-aos="flip-up" data-aos-delay="400"><span class="year">٥</span><span class="event">الشراكة المجتمعية</span></div>
                </div>
            </div></div></div>

            <!-- SLIDE 8: الشكر والتقدير -->
            <div class="swiper-slide"><div class="slide-content"><div class="slide-inner text-center">
                <div class="heart-container"><div class="heart-pulse"><i class="fas fa-heart heart-icon"></i></div></div>
                <h2 class="thanks-title">شكراً لحسن استماعكم</h2>
                <p class="thanks-subtitle">أنا على أتم الاستعداد للإجابة عن أسئلتكم</p>
            </div></div></div>

            <!-- SLIDE 9: المراجع (محدثة بالكامل) -->
            <div class="swiper-slide"><div class="slide-content"><div class="slide-inner">
                <h2 class="section-header">المراجع</h2>
                <div class="references-galaxy">
                    <div class="star-reference definition-trigger" data-citation="Boeskens, L. and K. Meyer (2025), “Policies for the digital transformation of school education: Evidence from the Policy Survey on School Education in the Digital Age”, OECD Education Working Papers, No. 328, OECD Publishing, Paris."><i class="fas fa-file-contract"></i><h3>OECD (2025)</h3><p>Working Paper No. 328</p></div>
                    <div class="star-reference definition-trigger" data-citation="OECD (2023). 'Digital Education Outlook 2023: Towards an Effective Digital Transformation'. OECD Publishing, Paris. Retrieved from: https://www.oecd.org/en/publications/country-digital-education-ecosystems-and-governance_906134d4-en.html"><i class="fas fa-book-open"></i><h3>OECD (2023)</h3><p>Digital Education Outlook</p></div>
                    <div class="star-reference definition-trigger" data-citation="وزارة التربية والتعليم، سلطنة عمان (2024). 'الخطة الاستراتيجية للتعليم 2040: تمكين التعلم الرقمي والابتكار في المدارس'. الوثيقة الوطنية لتحول الرقمي في التعليم، مسقط، سلطنة عمان."><i class="fas fa-flag"></i><h3>وزارة التربية والتعليم (2024)</h3><p>رؤية عمان 2040 التعليمية</p></div>
                    <div class="star-reference definition-trigger" data-citation="هيئة تقنية المعلومات، سلطنة عمان (2023). 'إطار الحوكمة الرقمية للمؤسسات التعليمية: دليل تطبيق معايير التمكين الرقمي'. مسقط، سلطنة عمان."><i class="fas fa-network-wired"></i><h3>هيئة تقنية المعلومات (2023)</h3><p>الحوكمة الرقمية للمؤسسات التعليمية</p></div>
                    <div class="star-reference definition-trigger" data-citation="الوائلي، سلطان بن علي (2025). 'مفهوم شخصي للتحول الرقمي في الإدارة المدرسية'. مخطوطة غير منشورة، مدرسة محمد بن سليمان الغافري، سلطنة عمان."><i class="fas fa-user-graduate"></i><h3>سلطان الوائلي (2025)</h3><p>مفهوم شخصي للتحول الرقمي</p></div>
                </div>
            </div></div></div>

            <!-- SLIDE 10: الخاتمة -->
            <div class="swiper-slide"><div class="slide-content"><div class="slide-inner text-center">
                <div class="star-float"><i class="fas fa-star"></i></div>
                <h2 class="final-title">معاً نحو مستقبل رقمي</h2>
                <p class="final-presenter">سلطان بن علي الوائلي</p>
                <p class="final-year">2026</p>
            </div></div></div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script>
        AOS.init({ duration: 600, once: false, mirror: true, disable: window.innerWidth < 768 });

        // Initialize Swiper
        const swiper = new Swiper('.presentation-swiper', {
            direction: 'horizontal', speed: 500,
            spaceBetween: window.innerWidth < 768 ? 8 : 25,
            effect: window.innerWidth < 768 ? 'slide' : 'coverflow',
            coverflowEffect: { rotate: window.innerWidth < 768 ? 0 : 25, stretch: 0, depth: window.innerWidth < 768 ? 0 : 80, modifier: 1, slideShadows: false },
            navigation: { nextEl: '#next-slide', prevEl: '#prev-slide' },
            keyboard: { enabled: true }, grabCursor: true,
            on: { slideChange: updateProgress, init: updateProgress }
        });

        function updateProgress() {
            const current = swiper.activeIndex + 1, total = swiper.slides.length;
            document.getElementById('current-slide').textContent = current.toString().padStart(2, '0');
            document.getElementById('progress-fill').style.width = (current / total) * 100 + '%';
        }

        window.addEventListener('resize', () => {
            swiper.params.spaceBetween = window.innerWidth < 768 ? 8 : 25;
            swiper.params.effect = window.innerWidth < 768 ? 'slide' : 'coverflow';
            swiper.params.coverflowEffect.rotate = window.innerWidth < 768 ? 0 : 25;
            swiper.params.coverflowEffect.depth = window.innerWidth < 768 ? 0 : 80;
            swiper.update();
        });

        // ========== التفاعل مع التوثيق: عند الضغط على أي مرجع يظهر التوثيق الكامل ==========
        document.querySelectorAll('.definition-trigger').forEach(item => {
            item.addEventListener('click', function(e) {
                e.stopPropagation();
                // إزالة الكلاس النشط من جميع العناصر الأخرى
                document.querySelectorAll('.definition-trigger').forEach(el => el.classList.remove('active'));
                // إضافة الكلاس النشط للعنصر الحالي
                this.classList.add('active');

                // البحث عن وجود tooltip قديم أو إنشاء جديد
                let tooltip = this.querySelector('.citation-tooltip');
                if (!tooltip) {
                    tooltip = document.createElement('div');
                    tooltip.className = 'citation-tooltip';
                    const citationText = this.getAttribute('data-citation');
                    if (citationText) {
                        tooltip.textContent = citationText;
                    } else {
                        tooltip.textContent = 'لا يتوفر توثيق مفصل لهذا المرجع.';
                    }
                    this.appendChild(tooltip);
                } else {
                    // إذا كان موجوداً، فقط أظهره (بسبب كلاس active)
                }
            });
        });

        // إغلاق التوثيق عند الضغط في أي مكان آخر
        document.addEventListener('click', function(e) {
            if (!e.target.closest('.definition-trigger')) {
                document.querySelectorAll('.definition-trigger').forEach(el => el.classList.remove('active'));
            }
        });

        // 3D Canvas
        const canvas = document.getElementById('canvas-bg'), ctx = canvas.getContext('2d');
        canvas.width = window.innerWidth; canvas.height = window.innerHeight;
        const particles = [], colors = ['#0A2472', '#1E4A8A', '#E6B91E', '#00A896', '#3A7CA5'];
        for (let i = 0; i < 45; i++) {
            particles.push({ x: Math.random() * canvas.width, y: Math.random() * canvas.height, radius: Math.random() * 2.5 + 0.5, color: colors[Math.floor(Math.random() * colors.length)], velocity: { x: (Math.random() - 0.5) * 0.2, y: (Math.random() - 0.5) * 0.2 } });
        }
        function animate() {
            requestAnimationFrame(animate); ctx.clearRect(0, 0, canvas.width, canvas.height);
            particles.forEach(p => { ctx.beginPath(); ctx.arc(p.x, p.y, p.radius, 0, Math.PI * 2); ctx.fillStyle = p.color; ctx.fill(); p.x += p.velocity.x; p.y += p.velocity.y; if (p.x < 0 || p.x > canvas.width) p.velocity.x *= -1; if (p.y < 0 || p.y > canvas.height) p.velocity.y *= -1; });
        }
        animate();
        window.addEventListener('resize', () => { canvas.width = window.innerWidth; canvas.height = window.innerHeight; });

        // Touch handling
        let touchStartX = 0;
        document.addEventListener('touchstart', (e) => { touchStartX = e.touches[0].clientX; });
        document.addEventListener('touchend', (e) => { const diff = touchStartX - e.changedTouches[0].clientX; if (Math.abs(diff) > 40) diff > 0 ? swiper.slideNext() : swiper.slidePrev(); });
    </script>
</body>
</html>
